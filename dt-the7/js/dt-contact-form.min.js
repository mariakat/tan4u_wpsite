jQuery((function(e){var r={render:function(){},getResponse:function(){return!0},reset:function(){}};function t(e,r){this.sitekey=e,this.element=r,this.captchaObj=null}function n(r,t,n){e('input[type="hidden"]',r).last().validationEngine("showPrompt",t,n,"inline")}t.prototype.render=function(){var e=this;grecaptcha.ready((function(){e.captchaObj=grecaptcha.render(e.element,{sitekey:e.sitekey})}))},t.prototype.getResponse=function(){return grecaptcha.getResponse(this.captchaObj)},t.prototype.reset=function(){grecaptcha.reset(this.captchaObj)},e.fn.dtInitContactForm=function(){return this.each((function(){var s=e(this),a="";a=s.hasClass("privacy-form")?'<p class="dt-privacy-message">'+dtLocal.contactMessages.terms+"<p>":"";var o=r;dtLocal.captchaSiteKey&&(o=new t(dtLocal.captchaSiteKey,s.find(".the7-g-captcha")[0])),o.render(),s.validationEngine({binded:!1,promptPosition:"inline",scroll:!1,autoHidePrompt:!1,maxErrorsPerField:1,custom_error_messages:{required:{message:dtLocal.contactMessages.required+a}},fadeDuration:500,addPromptClass:"run-animation",onAjaxFormComplete:function(){},addSuccessCssClassToField:"field-success",onBeforeAjaxFormValidation:function(r,t){var n=e(r);n.find(".formError").removeClass("first"),n.find("input").removeClass("error-field"),n.find("textarea").removeClass("error-field")},onFailure:function(r,t){var n=e(r);n.find(".formError .close-message").length<=0&&n.find(".formError").append('<span class="close-message"></span>')},onValidationComplete:function(r,t){var s=e(r);if(s.find(".greenPopup").length>0&&s.find(".greenPopup").remove(),s.find(".formError").removeClass("first"),s.find("input").removeClass("error-field"),s.find("textarea").removeClass("error-field"),s.find(".formError").each((function(r,t){e(t).eq(r).addClass("first"),e(t).prev().addClass("error-field")})),e(".formError .close-message").remove(),s.find(".formError .close-message").length<=0&&s.find(".formError").append('<span class="close-message"></span>'),s.find("input.the7-form-terms").hasClass("field-success")&&s.find(".dt-privacy-message").addClass("hide-privacy-message"),t){var a=o.getResponse();if(!a)return void n(s,dtLocal.contactMessages.fillTheCaptchaError,"error");var i={widget_id:e('input[name="widget_id"]',s).val(),send_message:e('input[name="send_message"]',s).val(),security_token:e('input[name="security_token"]',s).val(),gcaptcha_token:a,fields:{}};s.find('input[type="text"], textarea').each((function(){var r=e(this);i.fields[r.attr("name")]=r.val()})),e.post(dtLocal.REST.baseUrl+dtLocal.REST.endpoints.sendMail,i,(function(t){var a,i=e(r),c=t.success?"pass":"error";n(i,t.errors,c),s.find(".formError").addClass("field-success"),i.validationEngine("showPrompt","","","topRight"),o.reset(),t.success&&(i.find('input[type="text"], textarea').val(""),i.find('input[type="checkbox"]').removeProp("checked"),s.find(".formError .close-message").length<=0&&(s.find(".formError").append('<span class="close-message"></span>'),s.find(".formError .close-message").on("click",(function(){s.find(".greenPopup").remove(),clearTimeout(a)}))),clearTimeout(a),a=setTimeout((function(){s.find(".greenPopup").remove()}),11e3))}))}}}),s.find(".dt-btn.dt-btn-submit").on("click",(function(r){r.preventDefault(),e(this).parents("form").submit()})),s.find(".clear-form").on("click",(function(r){r.preventDefault();var t=e(this).parents("form");t.length>0&&(t.find('input[type="text"], textarea').val(""),t.validationEngine("hide"))}))}))},e("form.dt-contact-form.dt-form").dtInitContactForm()}));