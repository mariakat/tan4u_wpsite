!function(i){window.The7Options||(window.The7Options={}),window.The7Options.slider||(window.The7Options.slider=function(t){var o=i(t),e=o.next("input.of-slider-value");e.length&&(o.slider({value:parseFloat(e.attr("data-value")),min:parseFloat(e.attr("data-min")),max:parseFloat(e.attr("data-max")),step:parseFloat(e.attr("data-step")),range:"min",slide:function(i,t){e.val(t.value).trigger("change.of-slider-slide")}}),e.val(e.attr("data-value")),e.on("change",(function(i){var t=e.val();if(""!==t){var n=parseFloat(t);isNaN(n)&&(n=o.slider("option","min")),o.slider("value",n),e.val(o.slider("value"))}else o.slider("value",t)})))})}(jQuery),function(i){function t(i){var t;return(i=i.replace(/ /g,"")).match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(t=100*parseFloat(i.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),t=parseInt(t)):t=100,t}function o(i,t,o,n){var s,r,a;s=t.data("a8cIris"),r=t.data("wpWpColorPicker"),s._color._alpha=i,a=s._color.toString(),t.val(a),r.toggler.css({"background-color":a}),n&&e(i,o),t.wpColorPicker("color",a)}function e(i,t){t.slider("value",i),t.find(".ui-slider-handle").text(i.toString())}window.The7Options||(window.The7Options={}),window.The7Options.alphaColor||(window.The7Options.alphaColor=function(t){i(t).alphaColorPicker()},Color.prototype.toString=function(i){if("no-alpha"==i)return this.toCSS("rgba","1").replace(/\s+/g,"");if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var o=6-t.length-1;o>=0;o--)t="0"+t;return"#"+t},i.fn.alphaColorPicker=function(){return this.each((function(){var n,s,r,a,c,l,h,d,p,u;(n=i(this)).wrap('<div class="alpha-color-picker-wrap"></div>'),r=n.attr("data-palette")||"true",a=n.attr("data-show-opacity")||"true",c=n.attr("data-default-color")||"",l=-1!==r.indexOf("|")?r.split("|"):"false"!=r,""==(s=n.val().replace(/\s+/g,""))&&(s=c),h={change:function(i,o){var e,s,r;e=n.attr("data-customize-setting-link"),s=n.wpColorPicker("color"),c==s&&(r=t(s),p.find(".ui-slider-handle").text(r)),void 0!==wp.customize&&wp.customize(e,(function(i){i.set(s)})),d.find(".transparency").css("background-color",o.color.toString("no-alpha"))},palettes:l},n.wpColorPicker(h),d=n.parents(".wp-picker-container:first"),i('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(d.find(".wp-picker-holder")),p=d.find(".alpha-slider"),u={create:function(t,o){var e=i(this).slider("value");i(this).find(".ui-slider-handle").text(e),i(this).siblings(".transparency ").css("background-color",s)},value:t(s),range:"max",step:1,min:0,max:100,animate:300},p.slider(u),"true"==a&&p.find(".ui-slider-handle").addClass("show-opacity"),d.find(".min-click-zone").on("click",(function(){o(0,n,p,!0)})),d.find(".max-click-zone").on("click",(function(){o(100,n,p,!0)})),d.find(".iris-palette").on("click",(function(){var o,s;e(s=t(o=i(this).css("background-color")),p),100!=s&&(o=o.replace(/[^,]+(?=\))/,(s/100).toFixed(2))),n.wpColorPicker("color",o)})),d.find(".button.wp-picker-default").on("click",(function(){e(t(c),p)})),n.on("input",(function(){e(t(i(this).val()),p)})),p.slider().on("slide",(function(t,e){o(parseFloat(e.value)/100,n,p,!1),i(this).find(".ui-slider-handle").text(e.value)}))}))})}(jQuery),function(i){if(window.The7Options||(window.The7Options={}),!window.The7Options.gradientPicker){window.The7Options.gradientPicker=function(t){var o=i(t);o.gradientPicker({change:function(i,t){var o=parseInt(t.find(".of-gradient_picker-angle").val())+"deg",e=i.map((function(i){return i.color+" "+(100*i.position|0)+"%"})),n=[o].concat(e);t.find(".of-gradient_picker-value").val(n.join("|")),t.siblings(".of-gradient_picker-preview-box").first().css("background-image","linear-gradient("+n.join(",")+")")},controlPoints:o.find(".of-gradient_picker-value").val().split("|").slice(1),previewWidth:252,previewHeight:25}),o.find(".of-gradient_picker-angle").on("change.of-slider-slide",(function(){o.gradientPicker("update",{})}))},i.event.special.destroyed||(i.event.special.destroyed={remove:function(i){i.handler&&i.handler()}});var t="",o=window.navigator.userAgent;t=o.indexOf("WebKit")>=0?"-webkit-":o.indexOf("Mozilla")>=0?"-moz-":o.indexOf("Microsoft")>=0?"-ms-":"",r.prototype={docClicked:function(){this.ctrlPtConfig.hide()},createCtrlPt:function(i){return new a(this.$ctrlPtContainer,i,this.opts.orientation,this,this.ctrlPtConfig)},destroyed:function(){i(document).unbind("click",this.docClicked)},updateOptions:function(t){i.extend(this.opts,t),this.updatePreview()},updatePreview:function(){var i=[];this.controlPoints.sort(n);for(var t=this.g2d.createLinearGradient(0,0,this.g2d.canvas.width,0),o=0;o<this.controlPoints.length;++o){var e=this.controlPoints[o];t.addColorStop(e.position,e.color),i.push({position:e.position,color:e.color})}if(this.g2d.fillStyle=t,this.g2d.fillRect(0,0,this.g2d.canvas.width,this.g2d.canvas.height),this.opts.generateStyles)var s=this._generatePreviewStyles();this.opts.change(i,this.$el,s)},removeControlPoint:function(i){if(!this.ctrlPointsIsLocked){var t=this.controlPoints.indexOf(i);-1!=t&&(this.controlPoints.splice(t,1),i.$el.remove()),this._maybeLockCtrlPoints()}},previewClicked:function(t){var o=i(t.target).offset(),e=t.pageX-o.left,s=t.pageY-o.top,r=this.g2d.getImageData(e,s,1,1),a="rgb("+r.data[0]+","+r.data[1]+","+r.data[2]+")",c=this.createCtrlPt({position:e/this.g2d.canvas.width,color:a});this.controlPoints.push(c),this.controlPoints.sort(n),this._maybeLockCtrlPoints()},_generatePreviewStyles:function(){for(var i=this.opts.type+"-gradient("+("linear"==this.opts.type?this.opts.fillDirection+", ":""),o=!0,e=0;e<this.controlPoints.length;++e){var n=this.controlPoints[e];o?o=!1:i+=", ",i+=n.color+" "+(100*n.position|0)+"%"}return[i+=")",t+i]},_maybeLockCtrlPoints:function(){this.controlPoints.length<=this.opts.minCtrlPts?(this.ctrlPtConfig.lockCtrlPoints(),this.ctrlPointsIsLocked=!0):(this.ctrlPtConfig.unlockCtrlPoints(),this.ctrlPointsIsLocked=!1)}},a.prototype={changePosition:function(i){this.position=i,this.listener.updatePreview(),this.$el.css("left",this.position*(this.$parentEl.width()-this.outerWidth))},drag:function(i,t){var o=t.position.left;this.position=o/(this.$parentEl.width()-this.outerWidth),this.listener.updatePreview(),this.configView.setPosition(this.position)},stop:function(i,t){this.listener.updatePreview(),this.configView.show(this.$el.position(),this.color,this)},clicked:function(i){return this.configView.show(this.$el.position(),this.color,this),i.stopPropagation(),!1},colorChanged:function(i){this.color=i,this.$el.css("background-color",this.color),this.listener.updatePreview()},removeClicked:function(){this.listener.removeControlPoint(this),this.listener.updatePreview()}},c.prototype={show:function(i,t,o){this.listener=o,this.$el.css("visibility","visible"),this.$cpicker.wpColorPicker("color",t),this.$cpicker.trigger("input"),this.visible||this.$cpicker.wpColorPicker("open"),"horizontal"===this.opts.orientation?this.$el.css("left",0):this.$el.css("top",i.top),this.visible=!0,this.setPosition(o.position)},hide:function(){this.visible&&(this.$el.css("visibility","hidden"),this.visible=!1)},colorChanged:function(i,t){var o=t.color.toString();this.listener.colorChanged(o)},removeClicked:function(){this.listener.removeClicked(),this.hide()},lockCtrlPoints:function(){this.$el.addClass("gradientPicker-ctrlPointsLocked")},unlockCtrlPoints:function(){this.$el.removeClass("gradientPicker-ctrlPointsLocked")},setPosition:function(i){this.position.setPosition(i)},onChangePosition:function(i){i=parseInt(i),isNaN(i)||(i=window.Math.max(0,i),i=window.Math.min(100,i),this.listener.changePosition(i/100))}},l.prototype={getControls:function(){return this.$positionParent},setPosition:function(i){this.$input.val(window.Math.round(100*i))},getPosition:function(){return 0|this.$input.val()},onChangePosition:function(i){this.$input.on("change",{callback:i},this.changePosition)},changePosition:function(t){t.data.callback(i(this).val())}};var e={init:function(t){t=i.extend({controlPoints:["#FFF 0%","#000 100%"],minCtrlPts:2,orientation:"horizontal",type:"linear",fillDirection:"left",generateStyles:!0,previewWidth:200,previewHeight:20,change:function(){}},t),this.each((function(){var o=i(this),e=new r(o,t);o.data("gradientPicker-sel",e)}))},update:function(t){this.each((function(){var o=i(this).data("gradientPicker-sel");null!=o&&o.updateOptions(t)}))}};i.fn.gradientPicker=function(i,t){"string"==typeof i&&"init"!==i?e[i].call(this,t):(t=i,e.init.call(this,t))}}function n(i,t){return i.position-t.position}function s(i,t){return"function"==typeof i.bind?i.bind(t):function(){i.apply(t,arguments)}}function r(t,o){this.$el=t,this.$el.css("position","relative"),this.opts=o;var e=i("<canvas class='gradientPicker-preview'></canvas>");this.$el.append(e);var n=e[0];n.width=this.opts.previewWidth,n.height=this.opts.previewHeight,this.g2d=n.getContext("2d");var r=i("<div class='gradientPicker-ctrlPts'></div>");r.css("width",this.opts.previewWidth),this.$el.append(r),this.$ctrlPtContainer=r,this.updatePreview=s(this.updatePreview,this),this.controlPoints=[],this.ctrlPtConfig=new c(this.$el,o);for(var a=0;a<o.controlPoints.length;++a){var l=this.createCtrlPt(o.controlPoints[a]);this.controlPoints.push(l)}this._maybeLockCtrlPoints(),this.docClicked=s(this.docClicked,this),this.destroyed=s(this.destroyed,this),i(document).bind("click",this.docClicked),this.$el.bind("destroyed",this.destroyed),this.previewClicked=s(this.previewClicked,this),e.click(this.previewClicked),this.updatePreview()}function a(t,o,e,n,r){if(this.$el=i("<div class='gradientPicker-ctrlPt'></div>"),t.append(this.$el),this.$parentEl=t,this.configView=r,"string"==typeof o?(o=o.split(" "),this.position=parseFloat(o[1])/100,this.color=o[0]):(this.position=o.position,this.color=o.color),this.listener=n,this.outerWidth=this.$el.outerWidth(),this.$el.css("background-color",this.color),"horizontal"==e){var a=(t.width()-this.$el.outerWidth())*this.position;this.$el.css("left",a)}else{var c=(t.height()-this.$el.outerHeight())*this.position;this.$el.css("top",c)}this.drag=s(this.drag,this),this.stop=s(this.stop,this),this.clicked=s(this.clicked,this),this.colorChanged=s(this.colorChanged,this),this.$el.draggable({axis:"horizontal"==e?"x":"y",drag:this.drag,stop:this.stop,containment:t}),this.$el.css("position","absolute"),this.$el.click(this.clicked)}function c(t,o){this.$el=i('<div class="gradientPicker-ptConfig" style="visibility: hidden"></div>'),t.append(this.$el);var e=i('<input class="color-chooser"></input>');this.$el.append(e);var n=i("<div class='gradientPicker-close'></div>");this.$el.append(n),this.colorChanged=s(this.colorChanged,this),this.removeClicked=s(this.removeClicked,this),e.alphaColorPicker(),e.wpColorPicker("option","clear",!1);var r=e.wpColorPicker("instance").options.change,a=this;e.wpColorPicker("option","change",(function(i,t){r(i,t),a.colorChanged(i,t)})),this.$cpicker=e,this.opts=o,this.visible=!1,n.click(this.removeClicked),this.$cpicker.parents(".wp-picker-container:first").find(".wp-color-result").off("click"),this.onChangePosition=s(this.onChangePosition,this),this.position=new l,this.position.onChangePosition(this.onChangePosition),this.$cpicker.closest(".wp-picker-input-wrap").after(this.position.getControls())}function l(){this.$positionParent=i('<span class="wp-picker-input-wrap wp-picker-position"><label><span class="screen-reader-text">Control point position</span><input class="point-position" type="number" min="0" max="100" step="1" size="3">%</label></span>'),this.$input=this.$positionParent.find(".point-position")}}(jQuery),function(i){"use strict";window.The7Options||(window.The7Options={}),window.The7Options.iconsPicker||(window.The7Options.iconsPicker=function(t){var o=i(t),e=i(".of-icons_picker-search",o),n="of-icons_picker-list-sub-is-opened",s="of-icons_picker-list-sub-is-closed";function r(i){i.attr("class","selected").siblings("li").removeAttr("class")}function a(i){i.removeClass(n).addClass(s)}!function(){if(void 0===window.The7Options.iconsPicker.$iconsListCache)window.The7Options.iconsPicker.$iconsListCache=i(),i.post(ajaxurl,{action:"the7_get_icons_for_icons_picker"}).done((function(i){var t=i;if(t){var o="";for(var e in t)for(var n in o+='<p class="of-icons_picker-list-group">'+e+"</p>",t[e]){var s=t[e][n];o+='<li data-icon="'+s+'" title="'+s+'"><i class="moon-icon '+s+'"></i><label class="moon-icon">'+s+"</label></li>"}window.The7Options.iconsPicker.$iconsListCache=window.The7Options.iconsPicker.$iconsListCache.add(o)}}))}(),i(".selector-button",o).on("click",(function(){var t,c=i(this),l=c.siblings(".of-icons_picker-list-sub");if(o.hasClass(s)){if(t=o.removeClass(n+" "+s).attr("class").split(" ").join("."),a(i(t)),function(i){i.removeClass(s).addClass(n)}(o),!c.data("icons-loaded")){void 0!==window.The7Options.iconsPicker.$iconsListCache&&(c.data("icons-loaded",!0),l.append(window.The7Options.iconsPicker.$iconsListCache.clone()));var h=c.closest(".of-icons_picker-selector").attr("data-icon");r(l.find('li[data-icon="'+h+'"]').first())}e.focus().val("").trigger("change")}else a(o)})),i(".of-icons_picker-list-sub",o).on("click","li",(function(){var t=i(this),e=t.attr("data-icon"),n=t.parents(".of-icons_picker-selector");o.find("input.of-icons_picker-value").val(e),r(t),n.find("> i").removeAttr("class").attr("class",t.find("> i").attr("class")),a(o)})),e.on("change keyup",(function(){var t=i(this),o=t.val();o?t.siblings("p, li").hide().filter('li[data-icon*="'+o+'"]').show():t.siblings(":hidden").show()}))})}(jQuery);